# Spacefile Docs: https://go.deta.dev/docs/spacefile/v0
v: 0
micros:
  - name: backend
    src: ./backend
    engine: python3.9
    primary: true
    run: uvicorn --app-dir=app main:app
    dev: uvicorn --app-dir=app main:app
    public_routes:
      - "/docs"
      - "/openapi.json"
      - "/redoc"

    presets:
      env:
        - name: "JWT_SECRET_KEY"
          description: "Secret key for JWT generation"
        - name: "ACCESS_TOKEN_EXPIRE_MINUTES"
          description: "Time in minutes for access token expiration"
        - name: "AGENTS_API_KEY"
          description: "API key for Dadata"
